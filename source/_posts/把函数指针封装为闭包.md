---
title: 把函数指针封装为闭包
date: 2023-10-16 18:31:44
tags:
  - C
  - C++
categories:
  - C/C++
---

众所周知C函数是无状态的（如果不算全局变量），如果要实现类似闭包的功能通常会将第一个参数设置为上下文，让回调函数在被调用的时候传入，但实际上通过构造机器码是可以实时生成一个闭包函数的，代码放在github gist.

<

<script src="https://gist.github.com/MrThanlon/382be9909f3c3104688150835a46a731.js"></script>
